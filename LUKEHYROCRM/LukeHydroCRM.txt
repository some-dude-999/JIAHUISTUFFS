=== LukeHydroCRM.txt ===
PROJECT: Luke Hydro CRM
COMPONENT: Customer Relationship Management System for Hydroponics Sales
CREATED: 2025-11-27
LAST UPDATED: 2025-11-27 - Initial creation

DATA SOURCES:
- File: LukeHydroCRM.csv - Main data storage containing all customer contact information
- Original Data: Converted from "Newest Call List 10_27 - Sheet1.csv" (messy Google Sheet export)
- User Input: Contact form in the HTML interface for adding/editing records

DATA SCHEMA (CSV Columns):
1. Date Contacted - Date of initial or last contact
2. PIC (Person in Charge) - Name and role of the contact person (owner, manager, buyer, etc.)
3. Business - Business/company name
4. Number - Phone number
5. Location - City, State
6. Attempts - Number of call attempts made
7. Notes - Call notes, follow-up details, email status (Call+E, c+email, etc.)
8. Probability - Percentage likelihood of conversion/success
9. Email - Email address of contact
10. Business Type - Category (Hydroponics, Garden Supply, Nursery, etc.)

FUNCTIONALITY:
Main Purpose: Single-page CRM application for tracking sales calls to hydroponic/garden supply businesses

Key Features:
- View all contacts in sortable, searchable table
- Add new contacts via modal form
- Edit existing contacts
- Delete contacts with confirmation
- Real-time search/filter across all fields
- Sort by any column (click headers)
- Export data to CSV file
- Import/reload data from CSV
- Live statistics dashboard showing:
  * Total contacts
  * Total call attempts
  * Average probability
  * High probability leads (>60%)

Key Functions:
* createStars() - Generates animated starfield background for cosmic theme
* importFromCSV() - Fetches and loads LukeHydroCRM.csv data
* parseCSV(csv) - Parses CSV text into contact objects array
* parseCSVLine(line) - Handles CSV parsing with quoted values containing commas
* renderTable(filteredContacts) - Renders contact table with optional filtering
* updateStats() - Calculates and updates dashboard statistics
* sortTable(columnIndex) - Sorts contacts by specified column (toggles asc/desc)
* openAddModal() - Opens modal form for adding new contact
* editContact(index) - Loads contact data into modal for editing
* closeModal() - Closes the contact modal
* deleteContact(index) - Removes contact with confirmation
* exportToCSV() - Downloads current contacts as CSV file with timestamp
* Search event listener - Real-time filtering as user types

Event Handlers:
- Search box input - Filters table in real-time
- Table headers click - Sorts by that column
- Add Contact button - Opens blank form
- Edit button - Opens form with contact data
- Delete button - Removes contact with confirmation
- Export CSV button - Downloads data
- Reload Data button - Re-imports from CSV file
- Modal close (X) - Closes modal
- Click outside modal - Closes modal
- Form submit - Saves new/edited contact

DEPENDENCIES:
External Libraries: None (pure vanilla JavaScript)
Project Files:
- LukeHydroCRM.html (this file) - Complete standalone application
- LukeHydroCRM.csv - Data storage file (must be in same directory)

APIs Required: None

Browser Requirements:
- Modern browser with ES6+ support
- Fetch API support for loading CSV
- CSS Grid and Flexbox support
- Local file access (for CSV import)

INTEGRATION:
Data Flow:
1. On page load → createStars() generates background
2. importFromCSV() → fetches LukeHydroCRM.csv
3. parseCSV() → converts CSV to JavaScript objects
4. renderTable() → displays contacts in table
5. updateStats() → calculates dashboard metrics
6. User interactions → modify contacts array
7. exportToCSV() → download updated data

File Access:
- Reads from: LukeHydroCRM.csv (via fetch)
- Writes to: Browser downloads (CSV export with timestamp)
- Note: CSV file must be updated manually or via server-side script for persistence

DESIGN THEME: "Space Dragon Unicorn - Mystical Space"
Visual Elements:
- Deep space gradient background (purples, blues, cosmic colors)
- 200 animated twinkling stars
- Iridescent unicorn horn gradients (rainbow shimmer)
- Dragon scale pattern overlay (radial gradients)
- Glowing neon effects on interactive elements
- Pulsing animations on primary buttons
- Floating animations on headers and modals
- Holographic border effects
- Cosmic nebula color palette:
  * Primary: #667eea (cosmic purple)
  * Secondary: #764ba2 (deep violet)
  * Accent: #f093fb (pink nebula)
  * Highlight: #4facfe (cyan glow)
  * Success: #64ffda (mint green)

Animations:
- galaxyRotate: 30s infinite background rotation
- shimmer: 3s star twinkling
- float: 6s floating effect on headers
- sparkle: Sparkle animation on hover
- pulse: 2s glowing pulse on Add button

CORRECTIONS & CLARIFICATIONS:
Initial Understanding → Actual Implementation:
- Initially: Simple CSV viewer
- Actually: Full-featured CRM with CRUD operations, search, sort, stats, and export
- Why: User needed comprehensive contact management, not just viewing

- Initially: Basic styling
- Actually: Elaborate mystical space theme with animations
- Why: User specifically requested "space dragon unicorn - mystical space" aesthetic

Data Structure:
- Original CSV had inconsistent formatting (mixed notes/email in one column)
- Separated into distinct columns: Notes, Email, Business Type
- Added Business Type field for better categorization
- Standardized Probability format (percentage)

BUSINESS CONTEXT:
This CRM tracks outreach to hydroponics and garden supply businesses for Luke Hydro.
Target businesses include:
- Hydroponics stores
- Garden supply retailers
- Nurseries (independent and chains)
- Botanical gardens
- Specialty plant shops

Key metrics tracked:
- Call attempts (persistence)
- Probability of conversion
- Contact information quality
- Follow-up actions needed

NOTES FOR FUTURE DEVELOPMENT:
1. Data Persistence: Currently exports CSV manually. Consider:
   - localStorage for browser-side persistence
   - Backend API for multi-user access
   - Google Sheets API integration for original workflow

2. Features to Consider:
   - Follow-up reminders/calendar
   - Email integration (send directly from CRM)
   - Call logging with timestamps
   - Pipeline stages (contacted → interested → negotiating → closed)
   - Bulk operations (batch email, mass update)
   - Advanced filters (probability ranges, business types, date ranges)
   - Data validation (phone number formats, email validation)
   - Duplicate detection

3. Mobile Optimization:
   - Current design is responsive but could use mobile-first approach
   - Consider swipe actions for edit/delete on touch devices

4. Performance:
   - Current implementation loads all contacts in memory
   - For 1000+ contacts, consider pagination or virtual scrolling

5. Security:
   - If moving to server-side, add authentication
   - Sanitize CSV input to prevent injection
   - HTTPS for any API calls

TIPS FOR FUTURE LLMs:
- The cosmic theme is integral to user's branding - maintain it
- CSV format must match header exactly for import to work
- Search function is case-insensitive and searches across all text fields
- Probability field accepts any string but stats calculate numeric values only
- The "c+E" notation means "called + emailed"
- Phone numbers are stored as formatted strings, not validated
- Business Type uses predefined dropdown but accepts custom values
- Export filename includes timestamp for version control
===